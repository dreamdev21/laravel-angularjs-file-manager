<script type=text/ng-template id=assets/views/modals/account-settings.html><md-dialog class="md-modal md-modal-wide account-settings-modal"> <div class="md-modal-header"> <div class="md-modal-avatar"> <img class="img-responsive" ng-src="{{ users.getAvatar() }}"/> </div> <div class="name">{{ users.current.first_name }} {{ users.current.last_name }}</div> <div class="email">{{:: users.current.email }}</div> </div> <div class="md-modal-nav"> <div ng-click="activeTab = 'settings'" ng-class="{ active: activeTab === 'settings' }" class="md-modal-nav-item"><i class="icon icon-cog"></i></div> <div ng-click="activeTab = 'avatar'" ng-class="{ active: activeTab === 'avatar' }" class="md-modal-nav-item"><i class="icon icon-emo-sunglasses"></i></div> <div ng-click="activeTab = 'password'" ng-class="{ active: activeTab === 'password' }" class="md-modal-nav-item"><i class="icon icon-lock-filled"></i></div> </div> <div class="md-modal-tab" ng-class="{ open: activeTab === 'settings' }"> <md-input-container> <label>{{ 'username' | translate }}</label> <input class="username" type="text" ng-model="users.accountSettings.username"> </md-input-container> <md-input-container> <label>{{ 'firstName' | translate }}</label> <input type="text" ng-model="users.accountSettings.first_name"> </md-input-container> <md-input-container> <label>{{ 'lastName' | translate }}</label> <input type="text" ng-model="users.accountSettings.last_name"> </md-input-container> <md-select placeholder="{{:: 'gender' | translate }}" ng-model="users.accountSettings.gender"> <md-option value="male" translate>{{:: 'male' | translate }}</md-option> <md-option value="female" translate>{{:: 'female' | translate }}</md-option> <md-option value="" translate>{{:: 'notSaying' | translate }}</md-option> </md-select> <div class="buttons"> <md-button ng-click="users.closeModal()">{{:: 'cancel' | translate }}</md-button> <md-button ng-click="users.updateAccountSettings()" class="md-raised md-primary">{{:: 'confirm' | translate }}</md-button> </div> </div> <div class="md-modal-tab" ng-class="{ open: activeTab === 'password' }"> <form ng-submit="users.changePassword()"> <md-input-container ng-if="users.current.password"> <label>{{ 'oldPassword' | translate }}</label> <input type="password" ng-model="users.changePasswordModel.oldPassword"> </md-input-container> <md-input-container> <label>{{ 'newPassword' | translate }}</label> <input type="password" ng-model="users.changePasswordModel.newPassword"> </md-input-container> <md-input-container> <label>{{ 'confirmPassword' | translate }}</label> <input type="password" ng-model="users.changePasswordModel.newPassword_confirmation"> </md-input-container> <div class="buttons"> <md-button ng-click="users.closeModal()">{{:: 'cancel' | translate }}</md-button> <md-button type="submit" class="md-raised md-primary">{{:: 'change' | translate }}</md-button> </div> </form> </div> <div class="md-modal-tab avatar-tab" ng-class="{ open: activeTab === 'avatar' }"> <img class="img-responsive" ng-src="{{ users.getAvatar() }}"/> <p>{{:: 'avatarAcceptedFormats' | translate }}</p> <p>{{:: 'avatarResizeExpl' | translate }}</p> <div class="buttons"> <md-button ng-click="users.closeModal()">{{:: 'cancel' | translate }}</md-button> <md-button ng-click="users.removeAvatar()">{{:: 'remove' | translate }}</md-button> <md-button ng-file-select ng-file-change="upload($files)" accept="image/*" ngf-accept="'.png,.jpg'" class="md-raised md-primary"> <i class="icon icon-upload-cloud"></i> {{:: 'upload' | translate }} </md-button> </div> </div> </md-dialog></script><md-dialog class="md-modal md-modal-wide user-modal"><div class=md-modal-header><h1>{{:: 'createNewUser' | translate }}</h1><div ng-click=ctrl.parent.users.closeModal() class=md-close-modal><i class="mdi mdi-close"></i></div></div><form ng-submit=ctrl.parent.createNewUser()><div class=errors><div class=error ng-repeat="error in ctrl.parent.errors">{{ error }}</div></div><md-input-container><label for=email>{{:: 'email' | translate }}</label> <input id=email type=email ng-model=ctrl.parent.userModel.email></md-input-container><div layout layout-sm=column><md-input-container flex><label for=password>{{:: 'password' | translate }}</label> <input id=password type=password ng-model=ctrl.parent.userModel.password></md-input-container><md-input-container flex><label for=repeatPassword>{{:: 'repeatPassword' | translate }}</label> <input id=repeatPassword type=password ng-model=ctrl.parent.userModel.password_confirmation></md-input-container></div><md-input-container><label for=username>{{:: 'username' | translate }}</label> <input id=username type=text ng-model=ctrl.parent.userModel.username></md-input-container><div layout layout-sm=column><md-input-container flex><label for=first_name>{{:: 'firstName' | translate }}</label> <input id=first_name type=text ng-model=ctrl.parent.userModel.first_name></md-input-container><md-input-container flex><label for=last_name>{{:: 'lastName' | translate }}</label> <input id=last_name type=text ng-model=ctrl.parent.userModel.last_name></md-input-container></div><md-select placeholder=Gender ng-model=ctrl.parent.userModel.gender><md-option value=male translate>male</md-option><md-option value=female translate>female</md-option></md-select><div class=buttons><md-button type=button ng-click=ctrl.parent.users.closeModal()>{{:: 'cancel' | translate }}</md-button><md-button type=submit class="md-primary md-raised">{{:: 'create' | translate }}</md-button></div></form></md-dialog><md-dialog class="md-modal md-modal-wide user-modal"><div class=md-modal-header><h1>{{:: 'createNewUser' | translate }}</h1><div ng-click=users.closeModal() class=md-close-modal><i class="mdi mdi-close"></i></div></div><form ng-submit=submit()><div class=errors></div><md-input-container><label for=email>{{:: 'email' | translate }}</label> <input id=email type=email ng-model=userModel.email></md-input-container><div layout layout-sm=column><md-input-container flex><label for=password>{{:: 'password' | translate }}</label> <input id=password type=password ng-model=userModel.password></md-input-container><md-input-container flex><label for=repeatPassword>{{:: 'repeatPassword' | translate }}</label> <input id=repeatPassword type=password ng-model=userModel.password_confirmation></md-input-container></div><md-input-container><label for=username>{{:: 'username' | translate }}</label> <input id=username type=text ng-model=userModel.username></md-input-container><div layout layout-sm=column><md-input-container flex><label for=first_name>{{:: 'firstName' | translate }}</label> <input id=first_name type=text ng-model=userModel.first_name></md-input-container><md-input-container flex><label for=last_name>{{:: 'lastName' | translate }}</label> <input id=last_name type=text ng-model=userModel.last_name></md-input-container></div><md-select placeholder=Gender ng-model=userModel.gender><md-option value=male translate>male</md-option><md-option value=female translate>female</md-option></md-select><div class=buttons><md-button type=button ng-click=users.closeModal()>{{:: 'cancel' | translate }}</md-button><md-button type=submit class="md-primary md-raised" translate>{{ type }}</md-button></div></form></md-dialog><script type=text/ng-template id=assets/views/modals/links.html><md-dialog class="md-modal links-modal"> <div class="md-modal-header"> <h1>{{:: 'links' | translate }}</h1> <div ng-click="close()" class="md-close-modal"><i class="icon icon-cancel"></i></div> </div> <ed-shareable-links ed-generate-nav="shareable.folder_id"></ed-shareable-links> </md-dialog></script><script type=text/ng-template id=assets/views/modals/move.html><md-dialog class="md-modal move-photo-modal"> <div class="md-modal-header"> <h1>{{:: 'moveTo' | translate }}</h1> <div ng-click="files.closeModal()" class="md-close-modal"><i class="mdi mdi-close"></i></div> </div> <md-select placeholder="Select a Folder" ng-model="selectedFolder"> <md-option ng-repeat="folder in folders.available" ng-if="selectedItems.first('type') === 'file' && folder.id != selectedItems.first('folder_id')" value="{{ folder.id }}">{{ folder.name }}</md-option> <md-option ng-repeat="folder in folders.available" ng-if="selectedItems.first('type') === 'folder' && folder.id != selectedItems.first('id')" value="{{ folder.id }}">{{ folder.name }}</md-option> </md-select> <div class="buttons"> <md-button ng-click="files.closeModal()">{{:: 'cancel' | translate }}</md-button> <md-button ng-click="move(selectedFolder)" class="md-raised md-primary">{{:: 'move' | translate }}</md-button> </div> </md-dialog></script><script type=text/ng-template id=assets/views/modals/renamePhoto.html><md-dialog class="md-modal md-modal-wide rename-photo-modal"> <div class="md-modal-header"> <h1>{{:: 'rename' | translate }}</h1> <div ng-click="files.closeModal()" class="md-close-modal"><i class="mdi mdi-close"></i></div> </div> <form ng-submit="files.rename(selectedItems.first('id'))"> <md-input-container> <label for="photo-name">{{:: 'name' | translate }}</label> <input id="photo-name" type="text" ng-model="files.fileNameModel" required> <div class="md-modal-error"></div> </md-input-container> <div class="buttons"> <md-button type="button" ng-click="files.closeModal()">{{:: 'cancel' | translate }}</md-button> <md-button type="submit" ng-disabled="!files.fileNameModel" class="md-raised md-primary">{{:: 'rename' | translate }}</md-button> </div> </form> </md-dialog></script><script type=text/ng-template id=assets/views/modals/share.html><md-dialog class="md-modal md-modal-wide share-modal"> <div class="md-modal-header"> <h1>{{:: 'share' | translate }} {{:: shareable.name }} <span ng-if="rawType == 'folder'">{{ type }}</span></h1> <div ng-click="closeModal()" class="md-close-modal"><i class="icon icon-cancel"></i></div> </div> <div class="input-group"> <input class="form-control" readonly="true" type="text" ng-model="link" ed-select-on-click id="share-modal-input"> <span class="input-group-btn"> <button class="btn btn-primary" type="button" copy-link-to-clipboard>{{:: 'copyLink' | translate }}</button> </span> </div> <ed-share-icons></ed-share-icons> <form class="email-container" name="form"> <p>{{:: 'sendLinkViaEmail' | translate }}:</p> <tags-input type="email" name="emails" ng-model="emails" placeholder="{{:: '+email' | translate }}" add-on-space="true" on-tag-adding="utils.validateEmail($tag)"></tags-input> <textarea ng-model="emailMessage" columns="1" rows="3" placeholder="{{:: 'messageOptional' | translate }}"></textarea> </form> <section class="password-container" ng-if="passwordContainerVisible"> <md-input-container> <label>{{:: 'password' | translate }}</label> <input type="password" ng-model="password.value"> </md-input-container> <div class="buttons"> <md-button ng-click="closePasswordContainer()">{{:: 'cancel' | translate }}</md-button> <md-button ng-disabled="!password.value" ng-click="addPassword()" class="md-primary md-raised">{{:: 'add' | translate }}</md-button> </div> </section> <div class="buttons" ng-hide="passwordContainerVisible"> <div class="password-info"> <i class="mdi mdi-lock-open"></i> <div ng-if="!shareable.password">{{:: 'notPassProtected' | translate }} {{:: type }}. <span ng-click="togglePasswordContainer()" class="link">{{:: 'addPassword' | translate }}</span></div> <div ng-if="shareable.password">{{:: 'this' | translate }} {{:: type }} {{:: 'passProtected' | translate }}. <span ng-click="removePassword()" class="link">{{:: 'remove' | translate }}</span></div> </div> <md-button ng-click="closeModalAndSendEmails()" class="md-raised md-primary">{{:: 'done' | translate }}</md-button> <md-progress-circular ng-if="mailSendInProgress" md-mode="indeterminate" class="mail-spinner"></md-progress-circular> </div> </md-dialog></script><md-dialog class="md-modal md-modal-wide user-modal"><div class=md-modal-header><h1>{{:: 'updateUser' | translate }}</h1><div ng-click=users.closeModal() class=md-close-modal><i class="mdi mdi-close"></i></div></div><form ng-submit=ctrl.parent.updateUser()><div class=errors><div class=error ng-repeat="error in errors">{{ error }}</div></div><md-input-container class=md-block><label for=email>{{:: 'email' | translate }}</label> <input id=email type=email ng-model=ctrl.parent.userModel.email></md-input-container><md-input-container class=md-block><label for=username>{{:: 'username' | translate }}</label> <input id=username type=text ng-model=ctrl.parent.userModel.username></md-input-container><div class=inline-inputs><md-input-container flex class=md-block><label for=password>{{:: 'password' | translate }}</label> <input id=password type=password ng-model=ctrl.parent.userModel.password></md-input-container><md-input-container flex class=md-block><label for=repeatPassword>{{:: 'repeatPassword' | translate }}</label> <input id=repeatPassword type=password ng-model=ctrl.parent.userModel.password_confirmation></md-input-container></div><div class=inline-inputs><md-input-container flex class=md-block><label for=first_name>{{:: 'firstName' | translate }}</label> <input id=first_name type=text ng-model=ctrl.parent.userModel.first_name></md-input-container><md-input-container flex class=md-block><label for=last_name>{{:: 'lastName' | translate }}</label> <input id=last_name type=text ng-model=ctrl.parent.userModel.last_name></md-input-container></div><md-select placeholder=Gender ng-model=ctrl.parent.userModel.gender><md-option value=male translate>male</md-option><md-option value=female translate>female</md-option></md-select><md-input-container class=md-block><label for=space_available>{{:: 'spaceAvailable' | translate }}</label> <input id=space_available type=text ng-model=ctrl.parent.userModel.space_available></md-input-container><div class=buttons><md-button type=button ng-click=ctrl.parent.users.closeModal()>{{:: 'cancel' | translate }}</md-button><md-button type=submit class="md-primary md-raised">{{:: 'update' | translate }}</md-button></div></form></md-dialog>